<!DOCTYPE html>
<html>
<head>
    <title>Async Task Manager</title>
    <style>
        body {
            font-family: Arial;
            text-align: center;
            margin-top: 40px;
        }
        input {
            padding: 8px;
            width: 250px;
        }
        button {
            padding: 8px 12px;
            margin: 5px;
            cursor: pointer;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        li {
            margin: 8px;
        }
    </style>
</head>
<body>
<h2>Async Task Manager</h2>
<input type="text" id="taskInput" placeholder="Enter task">
<br>
<button onclick="addTaskCallbackUI()">Add (Callback)</button>
<button onclick="addTaskPromiseUI()">Add (Promise)</button>
<button onclick="addTaskAsyncUI()">Add (Async/Await)</button>

<ul id="taskList"></ul>
<script>
let tasks = [];
const simulateAsync = (operation, delay = 1000) => {
    setTimeout(operation, delay);
};
const renderTasks = () => {
    const list = document.getElementById("taskList");
    list.innerHTML = "";

    tasks.forEach((task, index) => {
        list.innerHTML += `
            <li>
                ${index + 1}. ${task}
                <button onclick="deleteTaskAsyncUI(${index})">Delete</button>
            </li>
        `;
    });
};
const addTaskCallback = (task, callback) => {
    simulateAsync(() => {
        tasks.push(task);
        callback();
    });
};
const addTaskCallbackUI = () => {
    const task = document.getElementById("taskInput").value;
    if (!task) return alert("Enter a task!");

    addTaskCallback(task, () => {
        renderTasks();
    });
};
const addTaskPromise = (task) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            tasks.push(task);
            resolve();
        }, 1000);
    });
};
const addTaskPromiseUI = () => {
    const task = document.getElementById("taskInput").value;
    if (!task) return alert("Enter a task!");

    addTaskPromise(task)
        .then(() => renderTasks());
};
const addTaskAsync = (task) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            tasks.push(task);
            resolve();
        }, 1000);
    });
};
const deleteTaskAsync = (index) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            tasks.splice(index, 1);
            resolve();
        }, 1000);
    });
};
const addTaskAsyncUI = async () => {
    const task = document.getElementById("taskInput").value;
    if (!task) return alert("Enter a task!");

    await addTaskAsync(task);
    renderTasks();
};
const deleteTaskAsyncUI = async (index) => {
    await deleteTaskAsync(index);
    renderTasks();
};
</script>
</body>
</html>