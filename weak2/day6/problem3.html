<!DOCTYPE html>
<html>
<head>
    <title>Location Logger</title>
</head>
<body>

<h2>Location Logger</h2>

<button onclick="getLocation()">Get My Location</button>

<h3>Current Location:</h3>
<p id="currentLocation"></p>

<h3>Location History:</h3>
<ul id="history"></ul>

<script>
window.onload = loadHistory;
function getLocation(){
        navigator.geolocation.getCurrentPosition(success, error);
}
function success(position){
    let lat = position.coords.latitude;
    let lon = position.coords.longitude;
    document.getElementById("currentLocation").innerHTML ="Latitude: " + lat + " | Longitude: " + lon;
    let history = JSON.parse(localStorage.getItem("locations")) || [];
    history.unshift({latitude: lat, longitude: lon});
    if(history.length > 5){
        history.pop();
    }
    localStorage.setItem("locations", JSON.stringify(history));
}

function error(err){
    if(err.code === 1){
        alert("Permission Denied");
    } else if(err.code === 2){
        alert("Location Unavailable");
    } else if(err.code === 3){
        alert("Request Timeout");
    }
}
function loadHistory(){
    let history = JSON.parse(localStorage.getItem("locations")) || [];
    let list = document.getElementById("history");
    list.innerHTML = "";
    history.forEach(function(loc){
        let li = document.createElement("li");
        li.innerHTML = loc.latitude + " , " + loc.longitude;
        list.appendChild(li);
    });
}

</script>

</body>
</html>